<% layout('./layout/boilerplateViewer.ejs') %> 


    <div id="overlay" class="overlay">
        <div class="loading-content">
        <h1>Loading...</h1>
        <img class="loading" id="loading" src="/icons/loading.svg">
        </div>
    </div>

    <section class="settings-container collapsed-height" id="settings">
        <div class="setting-banner">
            <% if(!currentUser){ %> 
                <a class="button settings-btn" href="/login">Login</a>
            <% } %>   
            <% if(currentUser){ %>
                <div class="flex-row">
                    <a class="button settings-btn" href="/settings">Settings</a>
                </div>
                <div class="flex-row">
                    <strong>Welcome: <%= currentUser.username %></strong>
                    <form style="margin-bottom: 0px;" action="/login/logout" method="POST">
                        <button class="button button-primary settings-btn" type="submit">Logout</button>
                    </form>
                </div> 
                
            <% } %>          
        </div>
        <div>
            <p class="version">WV:0.5.0</p>
        </div>
    </section>

    <header class="banner-container p-1">
        <article class="banner">
            <img class="btn menu-btn" id="menu-btn" src="icons/menu.svg">
            <img class="btn menu-btn" id="setting-btn" src="icons/gear.svg">
        </article> 
    </header>

    <main>
        <section class="sidebar-container collapsed-width slide-in-left" id="sidebar" attr="sidebar">
            <article>
                <div class="flex-column-centered container">
                    <a id="clear-all" class="button remove-btn">Clear All Windows</a>
                    <div class="flex-row-even mt-1">
                        <label for="layout" class="p-05">Layout:</label>
                        <select name="layout" id="view-changer">
                            <option value="col">Column</option>
                            <option value="Dcol">Dual-Column</option>
                            <option value="Tcol">Triple-Column</option>
                        </select>
                    </div>
                </div>
                <article class="sidebar-subcontainer center-text">
                    <h4>Manual Link</h4>
                    <div class="manual-link ">
                        <input type="text" class="manual-box" id="input-address" placeholder="Enter Ping Plotter URL">
                        <img id="add-btn" class="btn manual-btn" src="icons/PlusWindow.svg">
                    </div>
                </article>
                <article class="sidebar-subcontainer center-text">
                    <h4>Search</h4>
                    <div class="manual-link">
                        <input type="text" class="search-box" id="input-search" placeholder="Enter Encoder">
                    </div>
                </article>
            </article>
                
            <div class="sidebar-subcontainer center-text" data-enc="laptop">
                <h4>Laptop Encoders</h4>
                <article class="encoder-container" id="laptopEncoderBtn-Container">
                    <!-- Generated by JS -->
                    <% laptops.forEach( (comp) => { %>
                        <a class="button enc-btn" id="enc-btn" data-id=<%= comp.id %> data-link=<%= comp.link %> ><%=comp.name %></a>
                    <% }); %> 
                </article>
            </div>
            <div class="sidebar-subcontainer center-text" data-enc="desktop">
                <h4>Desktop Encoders</h4>
                <article class="encoder-container" id="desktopEncoder-Container">
                    <!-- Generated by JS -->
                    <% desktops.forEach(comp => { %>
                        <a class="button enc-btn" id="enc-btn" data-id=<%= comp.id %> data-link=<%= comp.link %> ><%=comp.name %></a>
                    <% }); %> 
                </article>
            </div>
            <div class="sidebar-subcontainer center-text" data-enc="enclosure">
                <h4>Enclosures</h4>
                <article class="encoder-container" id="enclosure-Container">
                    <!-- Generated by JS -->
                    <% enclosures.forEach(comp => { %>
                        <a class="button enc-btn" id="enc-btn" data-id=<%= comp.id %> data-link=<%= comp.link %> ><%=comp.name %></a>
                    <% }); %>
                </article>
            </div>
            <div class="sidebar-subcontainer center-text" data-enc="radius">
                <h4>Radius</h4>
                <article class="encoder-container" id="radius-Container">
                    <!-- Generated by JS -->
                    <% radius.forEach(comp => { %>
                        <a class="button enc-btn" id="enc-btn" data-id=<%= comp.id %> data-link=<%= comp.link %> ><%=comp.name %></a>
                    <% }); %>
                </article>
            </div>
        </section>

        <section class="window-parent">
            <div class="window-container" id="window-container">
                <!-- Contents Generated by JS and User input below is a sample of what should happen -->
            <!-- <iframe src="https://pingplotter.cloud/LiveShare/mtykd5w4n6drbrf5idrymq4x6o/gqyhzek8" frameborder="0" width="800" height="600"></iframe> -->
            </div>
        </section>
    </main>

